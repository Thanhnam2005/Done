<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ImageToPDF - Chuyển đổi ảnh sang PDF miễn phí</title>
    <!-- Load required libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://unpkg.com/dropzone@5/dist/min/dropzone.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/dropzone@5/dist/min/dropzone.min.css">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        .dropzone {
            border: 2px dashed #4A90E2;
            border-radius: 5px;
            background: white;
            min-height: 200px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .dropzone:hover {
            border-color: #2563eb;
            background: #f8fafc;
        }
        .dz-message {
            font-size: 1.2em;
            color: #6B7280;
            text-align: center;
        }
        .dz-preview {
            margin: 10px;
            position: relative;
            display: inline-block;
            vertical-align: top;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
        .dz-preview:hover {
            transform: scale(1.05);
        }
        .dz-remove {
            position: absolute;
            top: -10px;
            right: -10px;
            z-index: 10;
            cursor: pointer;
            background-color: #EF4444;
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s ease;
        }
        .dz-remove:hover {
            background-color: #DC2626;
        }
        .dz-remove svg {
            width: 14px;
            height: 14px;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideInFromBottom {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes slideInFromTop {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .animate-fadeIn {
            animation: fadeIn 0.5s ease-in-out;
        }
        .animate-slideInFromBottom {
            animation: slideInFromBottom 0.5s ease-out;
        }
        .animate-slideInFromTop {
            animation: slideInFromTop 0.5s ease-out;
        }
        #successNotification {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #10B981;
            color: white;
            padding: 16px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            display: none;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <header class="bg-gradient-to-r from-blue-600 to-purple-600 text-white py-6 animate-fadeIn">
        <nav class="container mx-auto px-4">
            <div class="flex justify-between items-center">
                <a href="/" class="text-3xl font-bold tracking-tight">ImageToPDF</a>
                <ul class="flex space-x-6">
                    <li><a href="#" class="hover:text-blue-200 transition-colors">Trang chủ</a></li>
                    <li><a href="#contact" class="hover:text-blue-200 transition-colors">Liên hệ</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main>
        <section class="py-20 bg-gradient-to-b from-blue-600 to-blue-800 text-white">
            <div class="container mx-auto px-4 text-center">
                <h1 class="text-5xl font-bold mb-6 animate-slideInFromBottom">Chuyển đổi ảnh sang PDF dễ dàng</h1>
                <p class="text-xl mb-12 animate-slideInFromBottom" style="animation-delay: 0.2s;">Công cụ trực tuyến miễn phí, nhanh chóng và an toàn</p>
                <div class="max-w-2xl mx-auto bg-white rounded-lg shadow-xl p-8 animate-slideInFromBottom" style="animation-delay: 0.4s;">
                    <form id="upload-form" class="dropzone" action="#">
                        <div class="dz-message">
                            Kéo và thả các ảnh vào đây, hoặc nhấp để chọn tệp
                        </div>
                    </form>
                    <button id="convertBtn" class="mt-6 w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors hidden">
                        Chuyển đổi sang PDF
                    </button>
                    <div id="pdfDownload" class="mt-8 hidden">
                        <h3 class="text-lg font-semibold mb-4 text-gray-800">PDF của bạn đã sẵn sàng!</h3>
                        <a id="downloadLink" href="#" download="anh-da-chuyen-doi.pdf" 
                           class="inline-flex items-center justify-center bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors">
                            Tải xuống PDF
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="py-20 bg-gray-100">
            <div class="container mx-auto px-4 text-center">
                <h2 class="text-3xl font-bold mb-8 animate-slideInFromBottom">Liên hệ với chúng tôi</h2>
                <p class="text-xl mb-8 animate-slideInFromBottom" style="animation-delay: 0.2s;">Có câu hỏi hoặc góp ý? Chúng tôi luôn sẵn sàng hỗ trợ bạn!</p>
                <a href="mailto:support@imagetopdf.com" 
                   class="inline-block bg-blue-600 text-white py-3 px-8 rounded-full text-lg font-semibold hover:bg-blue-700 transition-colors animate-slideInFromBottom" style="animation-delay: 0.4s;">
                    Gửi email cho chúng tôi
                </a>
            </div>
        </section>
    </main>

    <footer class="bg-gray-800 text-white py-8 animate-fadeIn">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2023 ImageToPDF. Bảo lưu mọi quyền.</p>
            <p class="mt-2 text-gray-400">Được phát triển với ❤️ bởi đội ngũ ImageToPDF</p>
        </div>
    </footer>

    <div id="successNotification" class="animate-slideInFromTop">
        Chuyển đổi thành công!
    </div>

    <script>
        // Ensure jsPDF is available globally
        window.jsPDF = window.jspdf.jsPDF;
        
        // Initialize Dropzone
        Dropzone.autoDiscover = false;
        
        document.addEventListener('DOMContentLoaded', function() {
            const convertBtn = document.getElementById('convertBtn');
            const pdfDownload = document.getElementById('pdfDownload');
            const downloadLink = document.getElementById('downloadLink');
            const successNotification = document.getElementById('successNotification');

            let myDropzone = new Dropzone("#upload-form", {
                url: "#",
                autoProcessQueue: false,
                addRemoveLinks: true,
                acceptedFiles: "image/*",
                dictRemoveFile: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>',
                init: function() {
                    this.on("addedfile", function(file) {
                        convertBtn.classList.remove('hidden');
                        file.previewElement.classList.add('animate-fadeIn');
                    });
                    this.on("removedfile", function() {
                        if (this.files.length === 0) {
                            convertBtn.classList.add('hidden');
                            pdfDownload.classList.add('hidden');
                        }
                    });
                }
            });

            convertBtn.addEventListener('click', async function() {
                if (myDropzone.files.length > 0) {
                    const pdf = new jsPDF();
                    const pdfWidth = pdf.internal.pageSize.getWidth();
                    const pdfHeight = pdf.internal.pageSize.getHeight();

                    for (let i = 0; i < myDropzone.files.length; i++) {
                        if (i > 0) {
                            pdf.addPage();
                        }

                        const file = myDropzone.files[i];
                        const imgData = await new Promise((resolve) => {
                            const reader = new FileReader();
                            reader.onload = (e) => resolve(e.target.result);
                            reader.readAsDataURL(file);
                        });

                        pdf.addImage(imgData, 'JPEG', 0, 0, pdfWidth, pdfHeight);
                    }

                    const pdfBlob = pdf.output('blob');
                    const pdfUrl = URL.createObjectURL(pdfBlob);
                    downloadLink.href = pdfUrl;
                    pdfDownload.classList.remove('hidden');
                    pdfDownload.classList.add('animate-fadeIn');

                    // Show success notification
                    successNotification.style.display = 'block';
                    setTimeout(() => {
                        successNotification.style.display = 'none';
                    }, 3000);
                }
            });
        });
    </script>
</body>
</html>

